<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hello World</title>
</head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.1/pixi.min.js"></script>
<body>
  <script type="text/javascript">
    var type = "WebGL"
    if(!PIXI.utils.isWebGLSupported()){
      type = "canvas"
    }

    //Create the renderer
    var renderer = PIXI.autoDetectRenderer(500, 500);
    renderer.view.style.border = "1px dashed black";
    renderer.backgroundColor = "0x061639";
    renderer.view.style.position = "absolute";
    renderer.view.style.display = "block";
    renderer.autoResize = true;
    renderer.resize(window.innerWidth, window.innerHeight);

    //Add the canvas to the HTML document
    document.body.appendChild(renderer.view);

    //Create a container object called the `stage`
    var stage = new PIXI.Container();

    var texture = PIXI.utils.TextureCache["images/bird.png"];
    var sprite = new PIXI.Sprite(texture);

    // PIXI.loader
    //   .add("images/bird.png")
    //   .load(setup);
    //
    // function setup() {
    //   var sprite = new PIXI.Sprite(
    //     PIXI.loader.resources["images/bird.png"].texture
    //   );
    //
    //   sprite.x = 96;
    //   sprite.y = 96;
    //   sprite.scale.set(0.3, 0.3);
    //
    //   stage.addChild(sprite);
    //   renderer.render(stage);
    // }

    PIXI.loader
      .add("images/tileset.png")
      .load(setup)

    function setup() {
      //Create the `tileset` sprite from the texture
      var texture = PIXI.utils.TextureCache["images/tileset.png"];

      //Create a rectangle object that defines the position and
      //size of the sub-image you want to extract from the texture
      var rectangle = new PIXI.Rectangle(1, 1, 32, 32);

      //Tell the texture to use that rectangular section
      texture.frame = rectangle;

      //Create the sprite from the texture
      var rocket = new PIXI.Sprite(texture);

      //Position the rocket sprite on the canvas
      rocket.x = 32;
      rocket.y = 32;

      //Add the rocket to the stage
      stage.addChild(rocket);

      //Render the stage
      renderer.render(stage);
    }


    //Tell the `renderer` to `render` the `stage`
    // renderer.render(stage);
  </script>
</body>
</html>
